const { Telegraf } = require('telegraf');

const bot = new Telegraf('7425989292:AAGyJDwAv5LLy-cRYsLeCgpy8pfnieRAWT4');

bot.telegram.setMyCommands([
    { command: 'start', description: '–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è' },
    { command: 'help', description: '–û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏' },
    { command: 'daily', description: '–û—Ç—Ä–∏–º–∞—Ç–∏ –ø–ª–∞–Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è' },
    { command: 'info', description: '–û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –±–æ—Ç–∞' }
]);


bot.start((ctx) => {
    const userName = ctx.message.from.first_name || ctx.message.from.username || "–¥—Ä—É–∂–µ";
    ctx.reply(`–ü—Ä–∏–≤—ñ—Ç, ${userName}! –í—ñ—Ç–∞—î–º–æ –≤–∞—Å —É –Ω–∞—à–æ–º—É –±–æ—Ç—ñ!`, { parse_mode: 'Markdown' });
    scheduleMinuteMessage(ctx.chat.id);
});


bot.command('help', (ctx) => {
    ctx.reply('–¶–µ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥, —è–∫—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:\n/start - –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞\n/help - –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–ø–æ–º–æ–≥—É\n/daily - –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–ª–∞–Ω–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è\n/info - –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –±–æ—Ç–∞');
});


bot.command('daily', (ctx) => {
    const message = getNextMessage();
    ctx.reply(message, { parse_mode: 'Markdown' });
});


bot.command('info', (ctx) => {
    ctx.reply('–¶–µ–π –±–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–∏—Ö –ø–ª–∞–Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∫–æ—Ä–∏—Å–Ω–∏—Ö –∫–æ–º–∞–Ω–¥.');
});

const dailyMessages = [
    "*–î–æ–±—Ä–∏–π —Ä–∞–Ω–æ–∫!* ‚òÄÔ∏è\n\n–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—á–∞—Ç–∏ —Å–≤—ñ–π –¥–µ–Ω—å –∑ –ø–æ–∑–∏—Ç–∏–≤—É —Ç–∞ —É—Å–º—ñ—à–∫–∏! üòä",
    "üéØ *–í–∞—à—ñ —Ü—ñ–ª—ñ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ:*\n1. –í–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è.\n2. –ó–∞–ª–∏—à–∞—Ç–∏—Å—è –Ω–∞ –∑–≤'—è–∑–∫—É.\n3. –ë—É—Ç–∏ –Ω–∞ —Ö–≤–∏–ª—ñ —É—Å–ø—ñ—Ö—É!",
    "_–ü–∞–º'—è—Ç–∞–π—Ç–µ_, —â–æ —É—Å–ø—ñ—Ö —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫—Ä–æ–∫—ñ–≤. –ö—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º, —ñ –≤–∏ –¥–æ—Å—è–≥–Ω–µ—Ç–µ –≤–µ—Ä—à–∏–Ω–∏! üèî",
    "–ó—Ä–æ–±—ñ—Ç—å —Å—å–æ–≥–æ–¥–Ω—ñ —â–æ—Å—å, —â–æ –Ω–∞–±–ª–∏–∑–∏—Ç—å –≤–∞—Å –¥–æ –≤–∞—à–æ—ó –º—Ä—ñ—ó. *–í—ñ—Ä—Ç–µ –≤ —Å–µ–±–µ!* üí™",
    "–í–∏ —á—É–¥–æ–≤–æ —Å–ø—Ä–∞–≤–ª—è—î—Ç–µ—Å—è! –ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ –≤ —Ç–æ–º—É –∂ –¥—É—Å—ñ. üî•",
    "*–°—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ–π –ø–ª–∞–Ω:*\n- –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–¥ —Å–æ–±–æ—é.\n- –†–æ–∑–≤–∏–≤–∞—Ç–∏ –Ω–∞–≤–∏—á–∫–∏.\n- –ë—É—Ç–∏ —â–∞—Å–ª–∏–≤–∏–º. üåà",
    "–ö–æ–∂–µ–Ω –¥–µ–Ω—å ‚Äì —Ü–µ –Ω–æ–≤–∏–π —à–∞–Ω—Å. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –π–æ–≥–æ –º—É–¥—Ä–æ! üìÖ",
    "–ë—É–¥—å—Ç–µ —Å–º—ñ–ª–∏–≤–∏–º–∏, –±—É–¥—å—Ç–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω–∏–º–∏, –±—É–¥—å—Ç–µ —Å–æ–±–æ—é. *–°–≤—ñ—Ç —á–µ–∫–∞—î –Ω–∞ –≤–∞—Å!* üåç",
    "–ü–∞–º'—è—Ç–∞–π—Ç–µ: —É—Å–ø—ñ—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –¥–æ —Ç–∏—Ö, —Ö—Ç–æ –Ω–µ –∑–¥–∞—î—Ç—å—Å—è. *–í–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —à–ª—è—Ö—É!* üöÄ",
    "*–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à—É –≤—ñ–¥–¥–∞–Ω—ñ—Å—Ç—å —ñ –ø—Ä–∞—Ü—é!* –°—å–æ–≥–æ–¥–Ω—ñ ‚Äì –≤–∞—à –¥–µ–Ω—å! üåü"
];

let messageIndex = 0;

const getNextMessage = () => {
    const message = dailyMessages[messageIndex];
    messageIndex = (messageIndex + 1) % dailyMessages.length;
    return message;
};

const sendDailyMessage = (chatId) => {
    const message = getNextMessage();
    bot.telegram.sendMessage(chatId, message, { parse_mode: 'Markdown' });
};

const scheduleMinuteMessage = (chatId) => {

    setInterval(() => {
        sendDailyMessage(chatId);
    }, 10 * 1000); // –ö–æ–∂–Ω—ñ 60 —Å–µ–∫—É–Ω–¥
};


bot.launch();