const {Telegraf, Input} = require('telegraf');
const path = require('path');

const bot = new Telegraf('7425989292:AAGyJDwAv5LLy-cRYsLeCgpy8pfnieRAWT4');

bot.telegram.setMyCommands([
    {command: 'start', description: 'Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ'},
]);

bot.start((ctx) => {
    const userName = ctx.message.from.first_name || ctx.message.from.username || "Ð´Ñ€ÑƒÐ³";
    ctx.reply(`ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽ, ${userName}`, {parse_mode: 'Markdown'});
    scheduleDailyMessage(ctx.chat.id);
});


const dailyMessages = [
    {
        text: "ÐœÐ¾Ñ Ð´Ð¾Ñ€Ð¾Ð³Ð°Ñ, Ð¸ Ð¿Ñ€ÐµÐ¶Ð´Ðµ, Ñ‡ÐµÐ¼ Ñ‚Ñ‹ Ð¿ÐµÑ€ÐµÐ¹Ð´ÐµÑˆÑŒ Ðº Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸ÑŽ SOS ÐºÑƒÑ€ÑÐ° Â«Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð° Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸Â»\n" +
            "ÐžÐ·Ð½Ð°ÐºÐ¾Ð¼ÑŒÑÑ Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¾Ð¹ ÐºÑƒÑ€ÑÐ°\n" +
            "\n" +
            "Ð­Ñ‚Ð¾ ÐºÑƒÑ€Ñ Ñ ÑÐ¾Ð·Ð´Ð°Ð»Ð° ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ! âœ¨\n" +
            "Ð¢Ñ‹ Ð·Ð½Ð°ÐµÑˆÑŒ, ÐºÐ°Ðº Ð±Ñ‹Ð²Ð°ÐµÑ‚, ÐºÐ¾Ð³Ð´Ð° Ð¾Ð¿ÑƒÑÐºÐ°ÑŽÑ‚ÑÑ Ñ€ÑƒÐºÐ¸... ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ ÑÐ¾ Ð²ÑÐµÑ… ÑÑ‚Ð¾Ñ€Ð¾Ð½ Ñ‚Ð²ÐµÑ€Ð´ÑÑ‚ Ð¾Ð± ÑƒÑÐ¿ÐµÑ…Ðµ, Ð¼Ð¸Ð»Ð»Ð¸Ð¾Ð½Ð°Ñ…, Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑÑ…. Ð˜ Ð² ÐºÐ°ÐºÐ¾Ð¹-Ñ‚Ð¾ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑˆÑŒ ÑÐ¾Ð¼Ð½ÐµÐ²Ð°Ñ‚ÑŒÑÑ Ð² ÑÐµÐ±Ðµ, Ð·Ð°Ð´Ð°Ð²Ð°ÑÑÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð¼: Â«Ð Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ Ñƒ Ð¼ÐµÐ½Ñ Ð½Ðµ Ñ‚Ð°Ðº?!Â» ðŸ¤”\n" +
            "\n" +
            "ÐšÐ°Ðº ÑÑ‚Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð¹ ÑÐ°Ð¼Ð¾Ð¹ Ð¶ÐµÐ½Ñ‰Ð¸Ð½Ð¾Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð°, Ð·Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾, ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ…Ð¾Ñ‡ÐµÑ‚, Ð¸ Ð¶Ð¸Ð²ÐµÑ‚ Ð² Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑÑ…, Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð¼ÐµÑ‡Ñ‚Ð°Ð»Ð°? ðŸ’ªðŸ’–\n" +
            "\n" +
            "Ð¯ ÑÐ°Ð¼Ð° Ð¿Ñ€Ð¾ÑˆÐ»Ð° Ñ‡ÐµÑ€ÐµÐ· ÑÑ‚Ð¾. ÐžÐ´Ð½Ð°Ð¶Ð´Ñ‹ Ñ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ»Ð° Ð²ÑÑ‘ Ð¸ Ñ‚Ð¾Ð¶Ðµ Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð»Ð° Ñ€ÑƒÐºÐ¸. ÐÐ¾, Ð½ÐµÑÐ¼Ð¾Ñ‚Ñ€Ñ Ð½Ð° ÑÑ‚Ð¾, Ñ Ð½Ð°ÑˆÐ»Ð° Ð² ÑÐµÐ±Ðµ ÑÐ¸Ð»Ñ‹ Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð° ÑÐ²Ð¾ÑŽ Ð¶Ð¸Ð·Ð½ÑŒ! ðŸŒŸ Ð£ Ð¼ÐµÐ½Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ, Ð¸ Ñƒ Ñ‚ÐµÐ±Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ!\n" +
            "\n" +
            "Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ñ ÑÐ¾Ð·Ð´Ð°Ð»Ð° SOS ÐºÑƒÑ€Ñ Â«Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð° Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸Â», Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ‚ÐµÐ±Ðµ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ ÑÑ‚Ð¾Ñ‚ Ð¿ÑƒÑ‚ÑŒ! ðŸš€",
    },
    {
        text: "Ð£Ñ€Ð¾Ðº 1.\n" +
            "\n" +
            " Â«Ð—Ð½Ð°ÐºÐ¾Ð¼ÑÑ‚Ð²Ð¾ Ñ ÑÐ¾Ð±Ð¾Ð¹Â»\n" +
            "\n" +
            "Ð’Ð¸Ð´ÐµÐ¾ÑƒÑ€Ð¾Ðº Ð¿Ð¾ÑÐ²ÑÑ‰ÐµÐ½ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐ¼Ñƒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÑŽ Ð¸ Ð²Ð½ÐµÑˆÐ½ÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ. \n" +
            "Ð Ñ‚Ð°Ðº Ð¶Ðµ, Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸ÑÐ¼, Ð³Ð´Ðµ Ñ€Ð°ÑÑ‡Ð¸Ñ‰Ð°ÐµÐ¼ ÑÐ²Ð¾Ñ‘ Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ð¾, Ð´Ð»Ñ Ð½Ð¾Ð²Ð¾Ð¹ ÑÐ½ÐµÑ€Ð³Ð¸Ð¸. \n\n" +
            "https://youtu.be/-pH6WY0LeY4?si=5ZcLiyvkGdPa7SHJ",
    },
    {
        text:"Ð£Ñ€Ð¾Ðº 2.\n" +
            "Â«ÐŸÑƒÑ‚ÑŒ Ð“ÐµÑ€Ð¾ÑÂ»\n" +
            "\n" +
            "ÐšÐ°Ðº Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ Ð¿ÑƒÑ‚ÑŒ Ð¾Ñ‚ Ð½ÐµÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾Ð¹ Ð² ÑÐµÐ±Ðµ Ðº Ð–ÐµÐ½Ñ‰Ð¸Ð½Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸.\n" +
            "ÐžÐ±ÑÑƒÐ¶Ð´Ð°ÐµÐ¼, Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ Ñ‚Ð°Ðº Ð²Ð°Ð¶Ð½Ð¾ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ð½Ð°Ð´ ÑÐ²Ð¾Ð¸Ð¼ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÐµÐ¼ Ð¸ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð½Ñ‹Ð¼ Ñ€Ð¾ÑÑ‚Ð¾Ð¼ Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÑ‚Ð°Ð¿Ñ‹ Ð¿ÑƒÑ‚Ð¸. " +
            "Ð­Ñ‚Ð°Ð¿ Â«Ð¼ÑÑÐ¾Ñ€ÑƒÐ±ÐºÐ¸Â» Ð¸ Ð­Ñ‚Ð°Ð¿ Â«Ð¿Ð¾Ð±ÐµÐ´Ñ‹Â» Ð½Ð°Ð´ ÑÐ°Ð¼Ð¾Ð¹ ÑÐ¾Ð±Ð¾Ð¹. Ð£Ñ‡Ð¸Ð¼ÑÑ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð¸Ñ‚ÑŒ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÑƒ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾. \n" +
            "https://youtu.be/2HQ3jWX7YCo?si=-gVhBwzayeIFBLIe",
    },

    { text: "Ð£Ñ€Ð¾Ðº 3.\n" +
            "Ð“Ð¾Ð²Ð¾Ñ€Ð¸Ð¼ Ð¾Ð± Ð¾Ñ‡ÐµÐ½ÑŒ Ð²Ð°Ð¶Ð½Ð¾Ð¹ Ñ‚ÐµÐ¼Ðµ Â«ÐžÐ±ÐµÑÑ†ÐµÐ½Ð¸Ð²Ð°Ð½Ð¸ÑÂ».\n" +
            "\n" +
            "ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ñ‹ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾ Ð¯-Ð½Ðµ Ñ†ÐµÐ½Ð½Ð° Ð² ÑÑ‚Ð¾Ð¼ Ð¼Ð¸Ñ€Ðµ. " +
            "ÐŸÐµÑ€Ð²Ð¾Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°  Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð¾Ð±ÐµÑÑ†ÐµÐ½Ð¸Ð²Ð°Ð½Ð¸Ñ Ð¸ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ ÑÑ‚Ð¾Ñ‚ Ð¿ÑƒÑ‚ÑŒ, Ð¿Ð¾ÑÐ»Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑˆÑŒ ÑÐµÐ±Ñ Ñ†ÐµÐ½Ð½Ð¾Ð¹, Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾Ð¹ Ð¸ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾Ð¹ Ð² ÑÐµÐ±Ðµ. Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹. ÐœÐµÐ´Ð¸Ñ‚Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸. \n" +
            "https://youtu.be/Hwq7WYdNAkc?si=3R8DESVgSbJmJl1n"
    },

    {text: "Ð£Ñ€Ð¾Ðº 4.\n" +
            "Â«ÐŸÐµÑ€ÐµÑÑ‚Ð°Ð½ÑŒ ÑÐ¿ÐµÑˆÐ¸Ñ‚ÑŒ.ÐžÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ÑÑ. Ð—Ð°Ð·ÐµÐ¼Ð»ÑÐµÐ¼ÑÑÂ» \n" +
            "\n" +
            "ÐÐ° ÑÑ‚Ð¾Ð¼ Ð²Ð¸Ð´ÐµÐ¾ÑƒÑ€Ð¾ÐºÐµ Ñ‚Ñ‹ Ð¿Ð¾Ð¹Ð¼ÐµÑˆÑŒ, ÐºÐ°Ðº Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ„Ð¾ÐºÑƒÑ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ð½Ð° ÑÐµÐ±Ðµ! ÐŸÐ¾ÐºÐ° Ñ‚Ñ‹ Ð±ÑƒÐ´ÐµÑˆÑŒ ÑÐ»Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ½ÐµÑ€Ð³Ð¸ÑŽ Ð½Ð° Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¸Ð³Ñ€Ð°ÐµÑ‚ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð¹ Ñ€Ð¾Ð»Ð¸ Ð² Ñ‚Ð²Ð¾ÐµÐ¹ Ð¶Ð¸Ð·Ð½Ð¸, Ð¾ÑÐ¾Ð±Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð½Ðµ Ð¶Ð´Ð¸!" +
            "Ð˜Ð·ÑƒÑ‡Ð°ÐµÐ¼ Ð·Ð°ÐºÐ¾Ð½Ñ‹ Â«Ð–ÐµÐ½Ñ‰Ð¸Ð½Ñ‹ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸Â».  ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ðº ÑÐ²Ð¾Ð¸Ð¼ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸ÑÐ¼, Ð°Ð²Ñ‚Ð¾Ñ€ÑÐºÑƒÑŽ ÐœÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸ÑŽ Â«Ð¯-Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð°Â». ÐŸÐ¾ÑÐ»Ðµ Ð¿Ñ€Ð¾ÑÐ»ÑƒÑˆÐ¸Ð²Ð°Ð½Ð¸Ñ Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ð¸, Ñƒ Ñ‚ÐµÐ±Ñ Ð½Ðµ Ð¾ÑÑ‚Ð°Ð½ÐµÑ‚ÑÑ ÑÐ¾Ð¼Ð½ÐµÐ½Ð¸Ð¹ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ñ‚Ð° ÑÐ°Ð¼Ð°Ñ Â«Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð°Â»! \n" +
            "https://youtu.be/hPYBI56T1wY?si=obDuZyZyK0nAu1EW"
    },

    {text: "Ð£Ñ€Ð¾Ðº 5.\n" +
            "Ð¡Ð²Ð¸Ð´Ð°Ð½Ð¸Ðµ Ñ Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð¾Ð¹ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸. \n" +
            "ÐÑÐºÐµÐ·Ð°. \n" +
            "\n" +
            "Ð¢Ñ‹ Ð¿Ñ€Ð¾ÑˆÐ»Ð° ÑÑ‚Ð¾Ñ‚ Ð¿ÑƒÑ‚ÑŒ! Ð¯ Ð² Ñ‚ÐµÐ±Ñ Ð²ÐµÑ€Ð¸Ð»Ð°!," +
            "Ð¢Ð« - Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð° Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸! ÐŸÐ¾Ð´Ð²Ð¾Ð´Ð¸Ð¼ Ð¸Ñ‚Ð¾Ð³Ð¸ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ñ… Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð². Ð‘ÐµÑ€ÐµÐ¼ ÐÑÐºÐµÐ·Ñƒ Ð½Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¶ÐµÐ»Ð°Ð½Ð¸Ñ. " +
            "ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð¿Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ ÐÑÐºÐµÐ·Ñ‹. ÐšÐ°Ðº Ð±Ñ€Ð°Ñ‚ÑŒ ÐÑÐºÐµÐ·Ñƒ Ð¸ ÐºÐ°ÐºÐ¸Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´ÑÑ‚Ð²Ð¸Ñ Ð¾Ñ‚ Ð½ÐµÐ²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð¹Ð´ÐµÑ‚ÑÑ Ð·Ð°Ð¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ." +
            "https://youtu.be/BVvJQjMakl0?si=9LQP9RgVrzt27GNw"
    }


];

const dailyImages = [
    [path.join(__dirname, 'img', '1.jpg')],
    [
        path.join(__dirname, 'img', '1-1.png'),
        path.join(__dirname, 'img', '1-2.png'),
        path.join(__dirname, 'img', '1-3.png'),
        path.join(__dirname, 'img', '1-4.png')
    ],
    [
        path.join(__dirname, 'img', '3-1.png'),
        path.join(__dirname, 'img', '3-2.png'),
        path.join(__dirname, 'img', '3-3.png'),
        path.join(__dirname, 'img', '3-4.png'),
        path.join(__dirname, 'img', '3-5.png'),
        path.join(__dirname, 'img', '3-6.png'),

    ],
    [
        path.join(__dirname, 'img', '33-1.png'),
        path.join(__dirname, 'img', '33-2.png'),
        path.join(__dirname, 'img', '33-3.png'),
        path.join(__dirname, 'img', '33-4.png'),
        path.join(__dirname, 'img', '33-5.png'),
        path.join(__dirname, 'img', '33-6.png'),

    ],
    [
        path.join(__dirname, 'img', '4-0.png'),
        path.join(__dirname, 'img', '4-1.png'),
        path.join(__dirname, 'img', '4-2.png'),
        path.join(__dirname, 'img', '4-3.png'),
        path.join(__dirname, 'img', '4-4.png'),
        path.join(__dirname, 'img', '4-5.png'),
    ],
    [
        path.join(__dirname, 'img', '5-1.png'),
        path.join(__dirname, 'img', '5-2.png'),
        path.join(__dirname, 'img', '5-3.png'),
        path.join(__dirname, 'img', '5-4.png'),
    ]

];

let messageIndex = 0;
let imageIndex = 0;

const getNextMessage = () => {
    const message = dailyMessages[messageIndex];
    messageIndex = (messageIndex + 1) % dailyMessages.length;
    return message;
};

const getNextImages = () => {
    const images = dailyImages[imageIndex];
    imageIndex = (imageIndex + 1) % dailyImages.length;
    return images;
};

const sendDailyMessage = async (chatId) => {
    const message = getNextMessage();
    const images = getNextImages();

    await bot.telegram.sendMessage(chatId, message.text, {parse_mode: 'Markdown'});

    for (const image of images) {
        await bot.telegram.sendPhoto(chatId, {source: image});
    }
};

const scheduleDailyMessage = (chatId) => {
    // ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÑÐ»Ðµ ÑÑ‚Ð°Ñ€Ñ‚Ð°
    sendDailyMessage(chatId);

    const now = new Date();
    const next9AM = new Date(
        now.getFullYear(),
        now.getMonth(),
        now.getDate(),
        9, 0, 0, 0
    );

    if (now > next9AM) {
        // Ð•ÑÐ»Ð¸ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ð¾Ð·Ð¶Ðµ 9 ÑƒÑ‚Ñ€Ð°, Ð·Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð´ÐµÐ½ÑŒ
        next9AM.setDate(next9AM.getDate() + 1);
    }

    const timeUntil9AM = next9AM - now;

    setTimeout(() => {
        sendDailyMessage(chatId);

        // Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð´Ð»Ñ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð² 9 ÑƒÑ‚Ñ€Ð°
        setInterval(() => {
            sendDailyMessage(chatId);
        }, 24 * 60 * 60 * 1000);
    }, timeUntil9AM);
};


bot.launch();
